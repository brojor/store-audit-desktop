(function(t){function e(e){for(var n,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/store-audit-desktop/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"151a":function(t,e,a){},"192b":function(t,e,a){"use strict";a("db04")},1998:function(t,e,a){},"1f6b":function(t,e,a){},3169:function(t,e,a){},"33c9":function(t,e,a){"use strict";a("3169")},"36da":function(t,e,a){"use strict";a("66bc")},"3d49":function(t,e,a){},"3d95":function(t,e,a){},"4bf6":function(t,e,a){var n=a("1315"),r=n.DateTime,o=n.Interval,i=n.Duration,s=function(t){return t>=3&&t<9};e.getDateRange=function(){var t=r.local({zone:"Europe/Belgrade"}),e=t.year,a=t.month,n=s(a)?3:9,c=a<3?e-1:e,l=o.after(r.local(c,n,{zone:"Europe/Belgrade"}),i.fromObject({quarters:2}));return l}},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("AuditStoreHeader"),a("router-view")],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"routes"},[a("router-link",{staticClass:"icon",attrs:{to:"/"}},[a("table-icon")],1),a("router-link",{staticClass:"icon",attrs:{to:"/chart"}},[a("icon-bar-chart")],1)],1),a("div",{staticClass:"header-right"},[a("span",{staticClass:"header-user-name"},[t._v(t._s(t.fullName))]),a("LogOut",{staticClass:"logout-icon",nativeOn:{click:function(e){return t.logout(e)}}})],1)])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-left"},[n("div",{staticClass:"flex items-center"},[n("img",{staticClass:"logo",attrs:{src:a("c85a"),alt:"logo"}}),n("h1",[t._v("STORE AUDIT")])])])}],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{height:"512pt",viewBox:"0 0 512.00533 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"m320 277.335938c-11.796875 0-21.332031 9.558593-21.332031 21.332031v85.335937c0 11.753906-9.558594 21.332032-21.335938 21.332032h-64v-320c0-18.21875-11.605469-34.496094-29.054687-40.554688l-6.316406-2.113281h99.371093c11.777344 0 21.335938 9.578125 21.335938 21.335937v64c0 11.773438 9.535156 21.332032 21.332031 21.332032s21.332031-9.558594 21.332031-21.332032v-64c0-35.285156-28.714843-63.99999975-64-63.99999975h-229.332031c-.8125 0-1.492188.36328175-2.28125.46874975-1.027344-.085937-2.007812-.46874975-3.050781-.46874975-23.53125 0-42.667969 19.13281275-42.667969 42.66406275v384c0 18.21875 11.605469 34.496093 29.054688 40.554687l128.386718 42.796875c4.351563 1.34375 8.679688 1.984375 13.226563 1.984375 23.53125 0 42.664062-19.136718 42.664062-42.667968v-21.332032h64c35.285157 0 64-28.714844 64-64v-85.335937c0-11.773438-9.535156-21.332031-21.332031-21.332031zm0 0"}}),a("path",{attrs:{d:"m505.75 198.253906-85.335938-85.332031c-6.097656-6.101563-15.273437-7.9375-23.25-4.632813-7.957031 3.308594-13.164062 11.09375-13.164062 19.714844v64h-85.332031c-11.777344 0-21.335938 9.554688-21.335938 21.332032 0 11.777343 9.558594 21.332031 21.335938 21.332031h85.332031v64c0 8.621093 5.207031 16.40625 13.164062 19.714843 7.976563 3.304688 17.152344 1.46875 23.25-4.628906l85.335938-85.335937c8.339844-8.339844 8.339844-21.824219 0-30.164063zm0 0"}})])},l=[],u=a("2877"),d={},p=Object(u["a"])(d,c,l,!1,null,null,null),h=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 16 16"}},[a("g",{attrs:{fill:t.isActive?t.activeColor:"currentColor"}},[a("path",{attrs:{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0\n      4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1\n      1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"}})])])},g=[],m=(a("a9e3"),{name:"iconTable",props:{size:{type:Number,default:20},isActive:{type:Boolean,default:!1},activeColor:{type:String,default:"#309e39"}}}),v=m,A=Object(u["a"])(v,f,g,!1,null,null,null),b=A.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 16 16"}},[a("g",{attrs:{fill:t.isActive?t.activeColor:"currentColor"}},[a("path",{attrs:{d:"M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5v12h-2V2h2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1\n      1h2a1 1 0 0 01-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0\n      1-1 1H7a1 1 0 0 1-1-1V7zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1\n      1 0 0 1-1-1v-3z"}})])])},C=[],S={name:"iconBarChart",props:{size:{type:Number,default:24},isActive:{type:Boolean,default:!1},activeColor:{type:String,default:"#309e39"}}},E=S,I=Object(u["a"])(E,y,C,!1,null,null,null),w=I.exports,R={name:"AuditStoreHeader",components:{LogOut:h,TableIcon:b,IconBarChart:w},computed:{fullName:function(){return this.$store.state.auth.userFullName}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push({name:"Login"})}))}}},O=R,x=(a("9fb9"),Object(u["a"])(O,i,s,!1,null,"7f6a485a",null)),_=x.exports,k={name:"App",components:{AuditStoreHeader:_}},j=k,z=(a("034f"),Object(u["a"])(j,r,o,!1,null,null,null)),B=z.exports,D=(a("99af"),a("4de4"),a("d81d"),a("2f62")),T=(a("d3b7"),a("bc3a")),L=a.n(T),P="https://store-audit.herokuapp.com/",Z=L.a.create({baseURL:P,headers:{Accept:"application/json","Content-Type":"application/json"}}),N=localStorage.getItem("token");N&&(Z.defaults.headers.common.Authorization="Bearer ".concat(N)),Z.interceptors.response.use((function(t){return t}),(function(t){return t.response&&401===t.response.status&&"/login"!==window.location.pathname&&(localStorage.removeItem("token"),window.location.reload()),Promise.reject(t)}));var M=Z,F={login:function(t){return M.post("/auth/login",t)}},W={token:localStorage.getItem("token")||"",userFullName:localStorage.getItem("userFullName")||""},G={isAuthenticated:function(t){return!!t.token}},V={SET_TOKEN:function(t,e){t.token=e,localStorage.setItem("token",e),e.length?M.defaults.headers.common.Authorization="Bearer ".concat(e):delete M.defaults.headers.common.Authorization},SET_USER_FULLNAME:function(t,e){t.userFullName=e,localStorage.setItem("userFullName",e)}},Y={login:function(t,e){var a=t.commit,n=t.dispatch;return F.login(e).then((function(t){var e=t.data;return a("SET_TOKEN",e.token),a("SET_USER_FULLNAME",e.fullName),n("getStores")}))},logout:function(t){var e=t.commit;e("SET_TOKEN",""),localStorage.clear()}},U={state:W,getters:G,mutations:V,actions:Y},H=a("4328");function J(t,e){var a=H.stringify({start:t.start.toJSDate(),end:t.end.toJSDate()});return M.get("/audits/".concat(e,"?").concat(a))}function Q(){return M.get("/stores")}function X(t,e){return M.post("/audits/".concat(t),{categoryPointId:e})}var K=a("4bf6"),q=(a("13d5"),a("ac1f"),a("4d90"),a("1276"),a("3835")),$=function(t){return t.reduce((function(t,e){return t+e}),0)/t.length},tt=function(t){var e=new Date(t).toLocaleDateString().split(". "),a=Object(q["a"])(e,3),n=a[1],r=a[2];return"".concat(n.padStart(2,"0"),"/").concat(r)};n["a"].use(D["a"]);var et=localStorage.getItem("stores"),at=new D["a"].Store({state:{stores:JSON.parse(localStorage.getItem("stores"))||[],selectedStoreId:et?JSON.parse(et)[0].id:"",audits:[],loading:!1,dateRange:Object(K["getDateRange"])()},mutations:{SET_AUDITS_DATA:function(t,e){t.audits=e},SET_DATE_RANGE:function(t,e){t.dateRange=e},SET_STORES:function(t,e){t.stores=e,t.selectedStoreId=e[0].id,localStorage.setItem("stores",JSON.stringify(e))},SET_SELECTED_STORE:function(t,e){t.selectedStoreId=e},SET_LOADING_STATE:function(t,e){t.loading=e}},actions:{getStores:function(t){var e=t.commit;return Q().then((function(t){var a=t.data;e("SET_STORES",a.stores),e("SET_SELECTED_STORE",a.stores[0].id)})).catch((function(t){return console.log(t)}))},getAudits:function(t){var e=t.commit,a=t.state;return e("SET_LOADING_STATE",!0),J(a.dateRange,a.selectedStoreId).then((function(t){var a=t.data;e("SET_AUDITS_DATA",a),e("SET_LOADING_STATE",!1)})).catch((function(t){return console.log(t)}))}},getters:{avarageScorePerc:function(t){var e=t.audits;return function(t){var a=void 0!==t?e.map((function(e){return e.categories[t].score.perc})):e.map((function(t){return t.totalScore.perc})),n=a.filter((function(t){return t>0}));return n.length?$(n):-1}},dateRange:function(t){var e=t.dateRange,a=e.start,n=e.stop;return"".concat(tt(a)," - ").concat(tt(n))}},modules:{auth:U}}),nt=a("8c4f"),rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-wrapper"},[a("table",[a("table-header"),t._l(t.categories,(function(t,e){return a("audit-category",{key:t.key,attrs:{category:t,catIndex:e}})}))],2)])},ot=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tbody",{staticClass:"category",attrs:{id:"cat"+t.category.key}},[a("category-header",{attrs:{category:t.category,catIndex:t.catIndex}}),t._l(t.category.categoryPoints,(function(e,n){return a("category-results",{key:e.key,attrs:{categoryPoint:e,catPointIndex:n,catIndex:t.catIndex}})}))],2)},st=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"category-heading"},[a("th",[a("div",{staticClass:"category-name-and-perc"},[a("p",[t._v(t._s(t.category.name))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.avarageScorePerc(t.catIndex)>=0,expression:"avarageScorePerc(catIndex) >= 0"}]},[t._v("Ø "+t._s(t.avarageScorePerc(t.catIndex).toFixed(1))+" %")])])]),t._l(t.audits,(function(e){return a("th",{key:e._id},[t._v(t._s(t.categoryScore(e)))])}))],2)},lt=[],ut=(a("b680"),a("5530")),dt={props:["category","catIndex"],methods:{categoryScore:function(t){return this.showIfValid(t.categories[this.catIndex].score.perc)},showIfValid:function(t){return t>=0?"".concat(t.toFixed(1),"%"):""}},computed:Object(ut["a"])(Object(ut["a"])({},Object(D["b"])(["avarageScorePerc"])),Object(D["c"])(["audits"]))},pt=dt,ht=Object(u["a"])(pt,ct,lt,!1,null,null,null),ft=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"category-point"},[a("td",[t._v(t._s(t.categoryPoint.name))]),t._l(t.audits,(function(e){return a("SuccesIndicator",{key:e._id,attrs:{audit:e,catIndex:t.catIndex,catPointIndex:t.catPointIndex}})}))],2)},mt=[],vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{comment:t.catPoint.comment,rep:t.catPoint.unacceptedInARow},on:{click:function(e){return e.altKey?t.changeResult(t.audit,t.catIndex,t.catPointIndex):null}}},[a("SuccesIcon",{attrs:{size:16,status:t.catPoint.accepted}})],1)},At=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.size,height:t.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",color:t.color}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),!1===t.status?a("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5\n    17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}):t._e(),!0===t.status?a("path",{attrs:{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}}):t._e()])},yt=[],Ct={name:"SuccesIcon",computed:{color:function(){return this.status?"#629677":"red"}},props:{status:{type:Boolean,required:!1,default:null},size:{type:Number,required:!1,default:24}}},St=Ct,Et=Object(u["a"])(St,bt,yt,!1,null,null,null),It=Et.exports,wt={props:["audit","catIndex","catPointIndex"],components:{SuccesIcon:It},computed:{catPoint:function(){return this.audit.categories[this.catIndex].categoryPoints[this.catPointIndex]}},methods:{changeResult:function(){var t=this;X(this.audit._id,this.catPoint.id).then((function(e){var a=e.data;a.success&&t.$store.dispatch("getAudits")}))}}},Rt=wt,Ot=Object(u["a"])(Rt,vt,At,!1,null,null,null),xt=Ot.exports,_t={props:["categoryPoint","catIndex","catPointIndex"],components:{SuccesIndicator:xt},computed:{audits:function(){return this.$store.state.audits}}},kt=_t,jt=Object(u["a"])(kt,gt,mt,!1,null,null,null),zt=jt.exports,Bt={props:["catIndex","category","audits"],components:{CategoryHeader:ft,CategoryResults:zt}},Dt=Bt,Tt=Object(u["a"])(Dt,it,st,!1,null,null,null),Lt=Tt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",[a("DateSelector",{attrs:{dateRange:t.dateRange},on:{change:function(e){return t.dateRangeChanged(e)}}})],1),t._l(t.audits,(function(e){return a("td",{key:e._id},[t._v(t._s(t.formatDate(e.date)))])}))],2),a("tr",[a("td",[a("div",{staticClass:"selected-store-and-score"},[a("universal-selector",{attrs:{options:t.options},on:{change:function(e){return t.storeIdChanged(e)}}}),a("h5",{staticClass:"half-year-avarage"},[t._v(t._s(t.showIfValid(t.avarageScorePerc())))])],1)]),t._l(t.audits,(function(e){return a("td",{key:e._id},[t._v(t._s(t.showIfValid(e.totalScore.perc)))])}))],2)])},Zt=[],Nt=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("button",{attrs:{"data-test":"get-prev"},on:{click:t.prev}},[a("arrow-left")],1),a("div",{staticClass:"date-range-wrapper"},[t.loading?a("spinner"):a("h1",{attrs:{"data-test":"dateRange"}},[t._v(t._s(t.formatedString))])],1),a("button",{on:{click:t.next}},[a("arrow-right")],1)])}),Mt=[],Ft=(a("25f0"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),Wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"pulse pulse1 spinner-delay1"}),a("div",{staticClass:"pulse pulse2 spinner-delay2"}),a("div",{staticClass:"pulse pulse3 spinner-delay3"})])}],Gt={name:"PulseLoader"},Vt=Gt,Yt=(a("f22a"),Object(u["a"])(Vt,Ft,Wt,!1,null,null,null)),Ut=Yt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.size+"px",height:t.size+"px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",color:"#000000"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0\n        01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"}})])},Jt=[],Qt={props:{size:{type:Number,default:32}}},Xt=Qt,Kt=Object(u["a"])(Xt,Ht,Jt,!1,null,null,null),qt=Kt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.size+"px",height:t.size+"px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",color:"#000000"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0\n        011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"}})])},te=[],ee={props:{size:{type:Number,default:32}}},ae=ee,ne=Object(u["a"])(ae,$t,te,!1,null,null,null),re=ne.exports,oe=function(t){return t.toString().padStart(2,"0")},ie={components:{Spinner:Ut,ArrowLeft:qt,ArrowRight:re},name:"DateSelector",props:["dateRange"],methods:{next:function(){var t=this.dateRange.mapEndpoints((function(t){return t.plus({quarters:2})}));this.$emit("change",t)},prev:function(){var t=this.dateRange.mapEndpoints((function(t){return t.minus({quarters:2})}));this.$emit("change",t)}},computed:{loading:function(){return this.$store.state.loading},formatedString:function(){var t=this.dateRange,e=t.start,a=t.end,n="".concat(oe(e.month),"/").concat(e.year),r="".concat(oe(a.month-1),"/").concat(a.year);return"".concat(n," - ").concat(r)}}},se=ie,ce=(a("6513"),Object(u["a"])(se,Nt,Mt,!1,null,"6ae8ac8a",null)),le=ce.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedItemId,expression:"selectedItemId"}],attrs:{name:"selector",id:"selector"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedItemId=e.target.multiple?a:a[0]},t.handleChange]}},t._l(t.options,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])})),0)},de=[],pe=(a("7db0"),{name:"UniversalSelector",props:["options"],data:function(){return{selectedItemId:this.options.length?this.options[0].id:""}},methods:{handleChange:function(){var t=this,e=this.options.find((function(e){return e.id===t.selectedItemId}));this.$emit("change",e)}},watch:{options:function(){this.selectedItemId=this.options[0].id}}}),he=pe,fe=(a("daa4"),Object(u["a"])(he,ue,de,!1,null,"4c03d281",null)),ge=fe.exports,me={components:{DateSelector:le,UniversalSelector:ge},methods:{storeIdChanged:function(t){this.$store.commit("SET_SELECTED_STORE",t.id),this.$store.dispatch("getAudits")},dateRangeChanged:function(t){this.$store.commit("SET_DATE_RANGE",t),this.$store.dispatch("getAudits")},formatDate:function(t){return tt(t)}},computed:Object(ut["a"])(Object(ut["a"])({showIfValid:function(){return function(t){return t>=0?"".concat(t.toFixed(1),"%"):""}},options:function(){return this.$store.state.stores.map((function(t){var e=t.name,a=t.id;return{id:a,title:e}}))}},Object(D["c"])(["audits","dateRange"])),Object(D["b"])(["avarageScorePerc"])),mounted:function(){this.$store.dispatch("getAudits")}},ve=me,Ae=Object(u["a"])(ve,Pt,Zt,!1,null,null,null),be=Ae.exports,ye={name:"TableView",components:{AuditCategory:Lt,TableHeader:be},data:function(){return{categories:[]}},created:function(){var t=this;M.get("/category-names").then((function(e){var a=e.data;t.categories=a})).catch((function(t){return console.log(t)}))}},Ce=ye,Se=(a("cccb"),Object(u["a"])(Ce,rt,ot,!1,null,null,null)),Ee=Se.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backdrop"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t._m(0),a("label",{attrs:{for:"username"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:"Uživatelské jméno",autofocus:"",autocomplete:"off"},domProps:{value:t.username},on:{focus:t.removeErrorMessage,input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("label",{attrs:{for:"password"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Heslo"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},focus:t.removeErrorMessage,input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.errorMessage?a("div",{staticClass:"error-message"},[a("p",{class:{shake:t.animation}},[t._v(t._s(t.errorMessage))])]):t._e(),a("button",{staticClass:"btn submit",attrs:{type:"submit"}},[t._v("Přihlásit se")])])])},we=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{staticClass:"logo",attrs:{src:a("a83a"),alt:""}})])}],Re={name:"login",data:function(){return{username:"",password:"",errorMessage:"",animation:!1}},computed:{credentials:function(){return this.username+this.password}},watch:{credentials:function(){this.removeErrorMessage()}},methods:{runAnimation:function(){var t=this;this.animation=!0,setTimeout((function(){t.animation=!1}),750)},removeErrorMessage:function(){this.errorMessage=""},submit:function(){var t=this;this.$store.dispatch("login",{username:this.username,password:this.password}).then((function(){t.$router.push({name:"Home"})})).catch((function(e){var a=e.response.data.message;t.errorMessage=a,t.runAnimation()}))}}},Oe=Re,xe=(a("7045"),Object(u["a"])(Oe,Ie,we,!1,null,"ff3f1fd2",null)),_e=xe.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("div",{staticClass:"container"},[a("chart-header",{attrs:{dateRange:t.filter.dateRange},on:{change:function(e){return t.changeFilter(e)}}}),a("chart-body",{attrs:{loading:t.loading,chartData:t.chartData,levelOfDetail:t.filter.detailLevel}})],1)])},je=[],ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("div",{staticClass:"header-row"},[a("div",{staticClass:"left"},[a("date-selector",{attrs:{dateRange:t.dateRange},on:{change:function(e){return t.emitChange("dateRange",e)}}})],1),a("div",{staticClass:"right"},[a("universal-selector",{attrs:{options:t.storeOptions},on:{change:function(e){return t.emitChange("storesFilter",e)}}})],1)]),a("div",{staticClass:"header-row"},t._l(t.filters,(function(e,n){return a("chart-filter",{key:"filter-"+n,attrs:{name:e.name,options:e.options},on:{change:function(a){return t.emitChange(e.type,a)}}})})),1)])},Be=[],De=a("4328");function Te(t){var e=t.dateRange,a=t.detailLevel,n=t.sortBy,r=t.storesFilter,o=r.id,i=r.type,s="group"===i?"/chart/aggregated/".concat(o):"/chart/individual/".concat(o),c=De.stringify({after:e.start.toJSDate(),before:e.end.toJSDate(),detailLevel:a,sortBy:n});return M.get("".concat(s,"?").concat(c))}function Le(){return M.get("/chart/store-filter-options")}var Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-category"},[a("div",{staticClass:"filter-name"},[t._v(t._s(t.name)+":")]),t._l(t.options,(function(e,n){return a("div",{key:"option"+n,staticClass:"filter-option"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"radio",id:"by-"+e.id},domProps:{value:e.id,checked:t._q(t.selected,e.id)},on:{change:function(a){t.selected=e.id}}}),a("label",{attrs:{for:"by-"+e.id}},[t._v(t._s(e.title))])])}))],2)},Ze=[],Ne={props:["name","options"],data:function(){return{selected:this.options[0].id}},watch:{selected:function(){this.$emit("change",this.selected)}}},Me=Ne,Fe=(a("192b"),Object(u["a"])(Me,Pe,Ze,!1,null,"647c1e56",null)),We=Fe.exports,Ge={props:["dateRange"],components:{DateSelector:le,UniversalSelector:ge,ChartFilter:We},data:function(){return{filters:[{name:"zobrazit",type:"detailLevel",options:[{id:"categories",title:"Celé kategorie"},{id:"points",title:"Jednotlivé body"}]},{name:"řazení",type:"sortBy",options:[{id:"id",title:"Podle jména"},{id:"deficiencies",title:"Podle nedostatků"}]}],storeOptions:[]}},methods:{emitChange:function(t,e){this.$emit("change",{type:t,value:e})}},mounted:function(){var t=this;Le().then((function(e){var a=e.data;t.storeOptions=a,t.emitChange("storesFilter",a[0])}))}},Ve=Ge,Ye=(a("ee24"),Object(u["a"])(Ve,ze,Be,!1,null,null,null)),Ue=Ye.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-wrapper"},[t.loading?a("div",{staticClass:"backdrop"},[a("circle-loader",{attrs:{color:"#444",size:"100px"}})],1):t._e(),a("bar-chart",{attrs:{chartData:t.chartData,levelOfDetail:t.levelOfDetail}})],1)},Je=[],Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[a("div",{staticClass:"v-clip",style:t.spinnerStyle})])},Xe=[],Ke={name:"ClipLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"35px"},radius:{type:String,default:"100%"}},computed:{spinnerStyle:function(){return{height:this.size,width:this.size,borderWidth:"2px",borderStyle:"solid",borderColor:"".concat(this.color," ").concat(this.color," transparent"),borderRadius:this.radius,background:"transparent"}}}},qe=Ke,$e=(a("36da"),Object(u["a"])(qe,Qe,Xe,!1,null,null,null)),ta=$e.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("canvas",{ref:"myChart",attrs:{id:"myChart"}})},aa=[],na=a("9b4a");function ra(t,e){var a=e,n=0,r=[];while(t[a])" "===t[a++]&&(r.push(t.substring(n,a-1)),n=a,a+=e);return r.push(t.substring(n)),r}var oa,ia={responsive:!0,layout:{padding:30},parsing:{xAxisKey:"label",yAxisKey:"deficiencies"},plugins:{tooltip:{titleAlign:"center",displayColors:!1,padding:10,callbacks:{label:function(t){var e=t.dataIndex,a=t.dataset.data[e].label;return"label"===t.chart.config._config.options.parsing.xAxisKey?null:ra(a,75)},title:function(t){var e=Object(q["a"])(t,1),a=e[0],n=a.dataIndex,r=a.dataset,o=r.data[n].id;return"".concat(o," (").concat(a.formattedValue,")")}}}},scales:{xAxis:{ticks:{callback:function(t,e){var a=this.getLabelForValue(e);return ra(a,8)},autoSkip:!1,font:{size:12}}}}},sa=ia;na["d"].register(na["b"],na["a"],na["c"],na["e"],na["f"],na["g"]);var ca={name:"BarChart",props:["chartData","levelOfDetail"],data:function(){return{type:"bar",data:{datasets:[{label:"Počet nedostatků",data:this.chartData,borderColor:"#e60001",borderWidth:1,backgroundColor:"#e6000140"}]},options:sa}},mounted:function(){var t=this.$refs.myChart;oa=new na["d"](t,this.$data)},watch:{chartData:function(){oa.data.datasets[0].data=this.chartData,oa.update()},levelOfDetail:function(){oa.options.scales.xAxis.ticks.font.size="categories"===this.levelOfDetail?12:10,oa.update(),oa.options.parsing.xAxisKey="categories"===this.levelOfDetail?"label":"id"}}},la=ca,ua=Object(u["a"])(la,ea,aa,!1,null,"07a247c8",null),da=ua.exports,pa={props:["chartData","levelOfDetail","loading"],components:{CircleLoader:ta,BarChart:da}},ha=pa,fa=(a("33c9"),Object(u["a"])(ha,He,Je,!1,null,null,null)),ga=fa.exports,ma={name:"ChartView",components:{ChartHeader:Ue,ChartBody:ga},data:function(){return{loading:!1,filter:{dateRange:Object(K["getDateRange"])(),detailLevel:"categories",sortBy:"id",storesFilter:{type:"",id:""}},chartData:[]}},methods:{changeFilter:function(t){var e=t.type,a=t.value;this.filter[e]=a},fetchData:function(){var t=this;this.loading=!0,Te(this.filter).then((function(e){var a=e.data;t.chartData=a,t.loading=!1})).catch((function(t){return console.log(t)}))}},watch:{filter:{deep:!0,handler:function(){this.fetchData()}}}},va=ma,Aa=(a("d01d"),Object(u["a"])(va,ke,je,!1,null,"37c46aba",null)),ba=Aa.exports;n["a"].use(nt["a"]);var ya=function(t,e,a){var n=at.getters.isAuthenticated;n?a():a({name:"Login"})},Ca=[{path:"/",name:"Home",component:Ee,beforeEnter:ya},{path:"/login",name:"Login",component:_e},{path:"/chart",name:"Chart",component:ba,beforeEnter:ya}],Sa=new nt["a"]({mode:"history",base:"/store-audit-desktop/",routes:Ca}),Ea=Sa;n["a"].config.productionTip=!1,new n["a"]({store:at,router:Ea,render:function(t){return t(B)}}).$mount("#app")},"5ced":function(t,e,a){},6513:function(t,e,a){"use strict";a("da79")},"66bc":function(t,e,a){},7045:function(t,e,a){"use strict";a("1998")},"85ec":function(t,e,a){},"9fb9":function(t,e,a){"use strict";a("edee")},a83a:function(t,e,a){t.exports=a.p+"img/h-logo-w.d5462a4e.png"},c85a:function(t,e){t.exports="data:image/png;base64,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"},cccb:function(t,e,a){"use strict";a("5ced")},d01d:function(t,e,a){"use strict";a("151a")},da79:function(t,e,a){},daa4:function(t,e,a){"use strict";a("3d95")},db04:function(t,e,a){},edee:function(t,e,a){},ee24:function(t,e,a){"use strict";a("3d49")},f22a:function(t,e,a){"use strict";a("1f6b")}});
//# sourceMappingURL=app.ed796522.js.map